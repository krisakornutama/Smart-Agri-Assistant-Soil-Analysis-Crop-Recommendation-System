<!DOCTYPE html>
<html>
<head>
  <base target="_top">
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Soil & Plant Dashboard</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script type="text/javascript" src="https://www.gstatic.com/charts/loader.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@400;500;700&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Sarabun', sans-serif; background-color: #111827; color: #e5e7eb; }
    .card { 
      background-color: #1f2937; 
      border: 1px solid #374151; 
      border-radius: 0.75rem; 
      padding: 1.5rem; 
      transition: opacity 0.5s ease-in-out, transform 0.5s ease-in-out;
      opacity: 0;
      transform: translateY(20px);
    }
    .card.visible { opacity: 1; transform: translateY(0); }
    .loader { border: 4px solid #374151; border-top: 4px solid #3b82f6; border-radius: 50%; width: 40px; height: 40px; animation: spin 1s linear infinite; }
    @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }
    /* ‡∏™‡πÑ‡∏ï‡∏•‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö Dropdown */
    select {
      background-color: #374151;
      border-color: #4b5563;
      color: #e5e7eb;
      padding-right: 2.5rem; 
      background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%239ca3af' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
      background-position: right 0.5rem center;
      background-repeat: no-repeat;
      background-size: 1.5em 1.5em;
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
    }
  </style>
</head>
<body class="antialiased">

  <div id="loading-overlay" class="fixed inset-0 bg-gray-900 bg-opacity-75 flex items-center justify-center z-50">
    <div class="loader"></div>
  </div>

  <div id="dashboard-content" class="container mx-auto p-4 md:p-8 max-w-7xl hidden">
    
    <header class="flex flex-col md:flex-row justify-between items-center mb-8 gap-4">
      <div>
        <h1 class="text-3xl md:text-4xl font-bold text-white">Soil Dashboard</h1>
        <p class="text-gray-400">‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏î‡∏¥‡∏ô‡πÅ‡∏•‡∏∞‡∏û‡∏∑‡∏ä‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°</p>
      </div>
      
      <div class="flex flex-col md:flex-row items-center space-y-4 md:space-y-0 md:space-x-4 w-full md:w-auto">
        <select id="project-selector" onchange="fetchData()" 
                class="w-full md:w-auto px-4 py-2 rounded-lg border-2 border-transparent focus:outline-none focus:border-blue-500 transition cursor-pointer">
          <option value="">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏õ‡∏•‡∏á...</option>
        </select>
        
        <div class="flex items-center space-x-4">
          <div class="text-right">
            <p class="text-sm text-gray-500">‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</p>
            <p id="last-updated" class="font-medium text-gray-300">-</p>
          </div>
          <button onclick="fetchData()" class="p-2 bg-blue-600 hover:bg-blue-700 rounded-full text-white transition" title="‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"><path fill="currentColor" d="M17.65 6.35A7.958 7.958 0 0 0 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08A5.99 5.99 0 0 1 12 18c-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"/></svg>
          </button>
        </div>
      </div>
    </header>

    <main class="grid grid-cols-1 lg:grid-cols-3 gap-6">
      <section class="lg:col-span-1 space-y-6">
        
        <div id="card-insights" class="card">
          <h2 class="text-xl font-bold text-white mb-4">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å (Trends)</h2>
          <div id="insights-content" class="space-y-3">
             <p class="text-gray-500">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏°...</p>
          </div>
        </div>
        
        <div id="card-summary" class="card" style="transition-delay: 100ms;">
          <h2 class="text-xl font-bold text-white mb-4">‡∏™‡∏£‡∏∏‡∏õ‡∏†‡∏≤‡∏û‡∏£‡∏ß‡∏°</h2>
          <h3 id="project-name-display" class="text-lg font-semibold text-blue-300 mb-2">- ‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏õ‡∏•‡∏á -</h3>
          <div id="summary-content" class="text-center p-4 rounded-lg">
            <p class="text-2xl font-bold text-gray-300" id="summary-status">...</p>
            <p class="text-gray-400" id="summary-detail">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡∏õ‡∏£‡∏∞‡∏°‡∏ß‡∏•‡∏ú‡∏•‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</p>
          </div>
        </div>
        
        <div id="card-plants" class="card" style="transition-delay: 200ms;">
          <h2 class="text-xl font-bold text-white mb-4">‡∏û‡∏∑‡∏ä‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ (‡∏ó‡∏µ‡πà‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡πÅ‡∏•‡πâ‡∏ß)</h2>
          <div id="recommended-plants" class="space-y-4"><p class="text-gray-500">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</p></div>
        </div>
        
        <div id="card-weather" class="card" style="transition-delay: 300ms;">
          <h2 class="text-xl font-bold text-white mb-4">‡∏û‡∏¢‡∏≤‡∏Å‡∏£‡∏ì‡πå‡∏≠‡∏≤‡∏Å‡∏≤‡∏®</h2>
          <p class="text-gray-500"> (‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏õ‡∏¥‡∏î‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô) </p>
        </div>
        
        </section>
      <section class="lg:col-span-2 space-y-6">
        <div id="card-metrics" class="card" style="transition-delay: 400ms;">
          <h2 class="text-xl font-bold text-white mb-4">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏î‡∏¥‡∏ô‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î</h2>
          <div id="soil-metrics" class="grid grid-cols-2 sm:grid-cols-4 gap-4 text-center">
             <p class="text-gray-500 col-span-full">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</p>
          </div>
        </div>
        <div id="card-chart" class="card" style="transition-delay: 500ms;">
          <h2 class="text-xl font-bold text-white mb-4">‡∏Å‡∏£‡∏≤‡∏ü‡πÅ‡∏ô‡∏ß‡πÇ‡∏ô‡πâ‡∏° (N-P-K)</h2>
          <div id="chart_div" class="w-full h-64 md:h-80 flex items-center justify-center">
            <p class="text-gray-500">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</p>
          </div>
        </div>
      </section>
    </main>
  </div>

  <script>
    
    // === 1. [‡∏≠‡∏±‡∏õ‡πÄ‡∏Å‡∏£‡∏î] INITIAL LOAD (‡πÄ‡∏£‡∏µ‡∏¢‡∏Å Project List ‡∏Å‡πà‡∏≠‡∏ô) ===
    document.addEventListener('DOMContentLoaded', () => {
      google.charts.load('current', { 'packages': ['corechart'] });
      // 1. ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏õ‡∏•‡∏á‡∏Å‡πà‡∏≠‡∏ô
      google.script.run
        .withSuccessHandler(populateProjectList)
        .withFailureHandler(showError)
        .getProjectList(); 
    });

    /**
     * [‡πÉ‡∏´‡∏°‡πà] ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÑ‡∏î‡πâ‡∏£‡∏≤‡∏¢‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏õ‡∏•‡∏á ‡πÉ‡∏´‡πâ‡∏™‡∏£‡πâ‡∏≤‡∏á Dropdown
     */
    function populateProjectList(projects) {
      const selector = document.getElementById('project-selector');
      if (!projects || projects.length === 0) {
        selector.innerHTML = '<option value="">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏õ‡∏•‡∏á</option>';
        showError({ message: "‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏õ‡∏•‡∏á‡πÉ‡∏ô Google Sheet" });
        return;
      }
      
      selector.innerHTML = ''; 
      projects.forEach(project => {
        const option = document.createElement('option');
        option.value = project;
        option.textContent = project;
        selector.appendChild(option);
      });
      
      // 2. ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á Dropdown ‡πÄ‡∏™‡∏£‡πá‡∏à ‡πÉ‡∏´‡πâ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
      google.charts.setOnLoadCallback(fetchData);
    }
    
    /**
     * [‡∏≠‡∏±‡∏õ‡πÄ‡∏Å‡∏£‡∏î] ‡∏≠‡πà‡∏≤‡∏ô‡∏Ñ‡πà‡∏≤‡∏à‡∏≤‡∏Å Dropdown ‡πÅ‡∏•‡πâ‡∏ß‡πÑ‡∏õ‡∏î‡∏∂‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
     */
    function fetchData() {
      showLoader(true);
      const projectId = document.getElementById('project-selector').value;
      if (!projectId) {
        showError({ message: "‡∏Å‡∏£‡∏∏‡∏ì‡∏≤‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÅ‡∏õ‡∏•‡∏á" });
        return;
      }

      google.script.run
        .withSuccessHandler(updateDashboard)
        .withFailureHandler(showError)
        .getDashboardData(projectId); // <-- ‡∏™‡πà‡∏á projectId ‡πÑ‡∏õ‡∏î‡πâ‡∏ß‡∏¢
    }

    // === 2. UI HANDLERS (‡πÄ‡∏´‡∏°‡∏∑‡∏≠‡∏ô‡πÄ‡∏î‡∏¥‡∏°) ===
    function showLoader(isLoading) {
      const overlay = document.getElementById('loading-overlay');
      const content = document.getElementById('dashboard-content');
      const cards = document.querySelectorAll('.card');
      if (isLoading) {
        overlay.style.display = 'flex';
        content.classList.add('hidden');
        cards.forEach(card => card.classList.remove('visible'));
      } else {
        overlay.style.display = 'none';
        content.classList.remove('hidden');
        setTimeout(() => cards.forEach(card => card.classList.add('visible')), 100);
      }
    }

    function showError(error) {
      const content = document.getElementById('dashboard-content');
      content.innerHTML = `<div class="card visible text-center text-red-400 col-span-full"><h2 class="text-2xl font-bold">‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î</h2><p>${error.message}</p></div>`;
      showLoader(false);
    }

    /**
     * [‡∏≠‡∏±‡∏õ‡πÄ‡∏Å‡∏£‡∏î] ‡∏≠‡∏±‡∏õ‡πÄ‡∏î‡∏ï‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏á Dashboard
     */
    function updateDashboard(data) {
      if (!data || !data.latestReading) {
        showError({ message: "‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡πà‡∏≤‡∏™‡∏∏‡∏î‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡πÅ‡∏õ‡∏•‡∏á‡∏ô‡∏µ‡πâ" });
        return;
      }
      const { latestReading, history, insights } = data;

      try {
        // ‡πÅ‡∏™‡∏î‡∏á‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏õ‡∏•‡∏á‡∏ó‡∏µ‡πà‡πÄ‡∏•‡∏∑‡∏≠‡∏Å
        document.getElementById('project-name-display').textContent = latestReading.projectId || '‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠‡πÅ‡∏õ‡∏•‡∏á';
        
        document.getElementById('last-updated').textContent = new Date(latestReading.timestamp).toLocaleString('th-TH');
        
        displaySoilMetrics(latestReading);
        displayRecommendedPlants(latestReading.plants); // <-- ‡∏ô‡∏µ‡πà‡∏Ñ‡∏∑‡∏≠‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏∑‡∏ä‡∏ó‡∏µ‡πà "‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç" ‡πÅ‡∏•‡πâ‡∏ß‡∏à‡∏≤‡∏Å Level 4
        updateSummaryCard(latestReading); 
        drawChart(history);
        displayInsights(insights);
        
        // *** [‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç] ‡∏•‡∏ö‡∏ö‡∏•‡πá‡∏≠‡∏Å locationLink ‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏õ‡∏±‡∏ç‡∏´‡∏≤ ‡∏≠‡∏≠‡∏Å‡πÅ‡∏•‡πâ‡∏ß ***
        
        showLoader(false);
        
      } catch (clientError) {
        showError({ message: "‡πÄ‡∏Å‡∏¥‡∏î‡∏Ç‡πâ‡∏≠‡∏ú‡∏¥‡∏î‡∏û‡∏•‡∏≤‡∏î‡πÉ‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•: " + clientError.message });
      }
    }

    // ===================================
    // DATA DISPLAY FUNCTIONS
    // (‡∏™‡πà‡∏ß‡∏ô‡∏ô‡∏µ‡πâ‡∏ñ‡∏π‡∏Å‡∏ï‡πâ‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î ‡πÑ‡∏°‡πà‡∏ï‡πâ‡∏≠‡∏á‡πÅ‡∏Å‡πâ)
    // ===================================
    
    function displayInsights(insights) {
      const container = document.getElementById('insights-content');
      if (!insights || insights.length === 0) {
        container.innerHTML = '<p class="text-gray-500">‡πÑ‡∏°‡πà‡∏û‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏ä‡∏¥‡∏á‡∏•‡∏∂‡∏Å</p>';
        return;
      }
      let html = '';
      insights.forEach(insight => {
        let icon = '‚ÑπÔ∏è'; let colorClass = 'border-gray-500 text-gray-300';
        switch (insight.type) {
          case 'success': icon = '‚úÖ'; colorClass = 'border-green-500 text-green-300'; break;
          case 'info': icon = 'üìà'; colorClass = 'border-blue-500 text-blue-300'; break;
          case 'warning': icon = '‚ö†Ô∏è'; colorClass = 'border-yellow-500 text-yellow-300'; break;
          case 'danger': icon = 'üö®'; colorClass = 'border-red-500 text-red-300'; break;
        }
        html += `
          <div class="flex items-start p-3 rounded-lg border-l-4 ${colorClass} bg-gray-800">
            <span class="text-xl mr-3">${icon}</span>
            <p class="text-sm">${insight.text}</p>
          </div>
        `;
      });
      container.innerHTML = html;
    }

    function getMetricStatus(label, value) {
        let status = { color: 'bg-gray-500', text: 'N/A' };
        const val = parseFloat(value);
        if (isNaN(val)) return status;
        switch(label) {
            case '‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô':
                if (val >= 40 && val <= 75) status = { color: 'bg-green-500', text: '‡∏î‡∏µ' };
                else if (val < 25 || val > 90) status = { color: 'bg-red-500', text: '‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á' };
                else status = { color: 'bg-yellow-500', text: '‡∏û‡∏≠‡πÉ‡∏ä‡πâ' };
                break;
            case 'pH':
                if (val >= 6.0 && val <= 7.0) status = { color: 'bg-green-500', text: '‡∏î‡∏µ (‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏•‡∏≤‡∏á)' };
                else if (val < 5.5 || val > 7.5) status = { color: 'bg-red-500', text: '‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á' };
                else status = { color: 'bg-yellow-500', text: '‡∏û‡∏≠‡πÉ‡∏ä‡πâ (‡∏Å‡∏£‡∏î/‡∏î‡πà‡∏≤‡∏á‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢)' };
                break;
            case 'N': case 'P': case 'K':
                if (val >= 50 && val <= 350) status = { color: 'bg-green-500', text: '‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°' };
                else if (val < 50) status = { color: 'bg-yellow-500', text: '‡∏ï‡πà‡∏≥' };
                else status = { color: 'bg-red-500', text: '‡∏™‡∏π‡∏á‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ' };
                break;
            case '‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥':
                if (val >= 20 && val <= 35) status = { color: 'bg-green-500', text: '‡∏î‡∏µ' };
                else if (val < 15 || val > 40) status = { color: 'bg-red-500', text: '‡∏ï‡πâ‡∏≠‡∏á‡∏õ‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∏‡∏á' };
                else status = { color: 'bg-yellow-500', text: '‡∏û‡∏≠‡πÉ‡∏ä‡πâ' };
                break;
            case 'EC':
                if (val >= 200 && val <= 1000) status = { color: 'bg-green-500', text: '‡∏î‡∏µ (‡πÅ‡∏£‡πà‡∏ò‡∏≤‡∏ï‡∏∏‡∏û‡∏≠‡∏î‡∏µ)' };
                else if (val < 200) status = { color: 'bg-yellow-500', text: '‡∏ï‡πà‡∏≥ (‡∏à‡∏∑‡∏î)' };
                else status = { color: 'bg-red-500', text: '‡∏™‡∏π‡∏á‡πÄ‡∏Å‡∏¥‡∏ô‡πÑ‡∏õ (‡πÄ‡∏Ñ‡πá‡∏°/‡∏õ‡∏∏‡πã‡∏¢‡πÄ‡∏Å‡∏¥‡∏ô)' };
                break;
            default: return null;
        }
        return status;
    }

    function updateSummaryCard(data) {
        const metrics = [
            { label: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô", value: data.moisture }, { label: "pH", value: data.pH },
            { label: "N", value: data.N }, { label: "P", value: data.P }, { label: "K", value: data.K },
            { label: "EC", value: data.ec }
        ];
        let hasError = false, hasWarning = false;
        for (const metric of metrics) {
            const status = getMetricStatus(metric.label, metric.value);
            if (status && status.color === 'bg-red-500') { hasError = true; break; }
            if (status && status.color === 'bg-yellow-500') { hasWarning = true; }
        }
        const statusEl = document.getElementById('summary-status');
        const detailEl = document.getElementById('summary-detail');
        if (hasError) {
            statusEl.textContent = 'üî¥ ‡∏ï‡πâ‡∏≠‡∏á‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö'; statusEl.className = 'text-2xl font-bold text-red-400';
            detailEl.textContent = '‡∏°‡∏µ‡∏Ñ‡πà‡∏≤‡∏î‡∏¥‡∏ô‡∏≠‡∏¢‡πà‡∏≤‡∏á‡∏ô‡πâ‡∏≠‡∏¢ 1 ‡∏Ñ‡πà‡∏≤‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏≠‡∏±‡∏ô‡∏ï‡∏£‡∏≤‡∏¢';
        } else if (hasWarning) {
            statusEl.textContent = 'üü° ‡∏û‡∏≠‡πÉ‡∏ä‡πâ'; statusEl.className = 'text-2xl font-bold text-yellow-400';
            detailEl.textContent = '‡∏Ñ‡πà‡∏≤‡∏î‡∏¥‡∏ô‡πÇ‡∏î‡∏¢‡∏£‡∏ß‡∏°‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á ‡∏Ñ‡∏ß‡∏£‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ï‡∏¥‡∏°';
        } else {
            statusEl.textContent = 'üü¢ ‡∏™‡∏†‡∏≤‡∏û‡∏î‡∏µ'; statusEl.className = 'text-2xl font-bold text-green-400';
            detailEl.textContent = '‡∏Ñ‡πà‡∏≤‡∏î‡∏¥‡∏ô‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏≠‡∏¢‡∏π‡πà‡πÉ‡∏ô‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°';
        }
    }

    function displayRecommendedPlants(plantsData) {
        const container = document.getElementById('recommended-plants');
        const plants = plantsData; 
        if (!plants || !Array.isArray(plants) || plants.length === 0) {
            container.innerHTML = '<p class="text-gray-500">‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏û‡∏∑‡∏ä‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</p>';
            return;
        }
        
        // [‡∏≠‡∏±‡∏õ‡πÄ‡∏Å‡∏£‡∏î] ‡πÄ‡∏£‡∏µ‡∏¢‡∏á‡∏•‡∏≥‡∏î‡∏±‡∏ö‡πÉ‡∏´‡∏°‡πà ‡πÄ‡∏ú‡∏∑‡πà‡∏≠ Code.gs ‡πÅ‡∏Å‡πâ‡πÑ‡∏Ç‡∏Ñ‡∏∞‡πÅ‡∏ô‡∏ô‡∏°‡∏≤
        const sortedPlants = plants
            .filter(p => p.suitability > 0)
            .sort((a, b) => b.suitability - a.suitability); 

        let html = '';
        if (sortedPlants.length === 0) {
            html = '<p class="text-gray-500">‡∏î‡∏¥‡∏ô‡∏ô‡∏µ‡πâ‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏û‡∏∑‡∏ä‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏ö‡∏£‡∏π‡πâ‡∏à‡∏±‡∏Å</p>';
            container.innerHTML = html; return;
        }
        sortedPlants.slice(0, 3).forEach((plant, index) => {
            const plantName = plant.plant || "‡πÑ‡∏°‡πà‡∏£‡∏∞‡∏ö‡∏∏‡∏ä‡∏∑‡πà‡∏≠";
            const suitability = parseFloat(plant.suitability).toFixed(1);
            const icon = getPlantIcon(plantName);
            const description = getPlantDescription(plantName);
            let colorClass = (index === 0) ? 'border-green-500' : (index === 1) ? 'border-blue-500' : 'border-gray-600';
            html += `
                <div class="flex items-center p-3 rounded-lg border-l-4 ${colorClass} bg-gray-800 hover:bg-gray-700" title="${description}">
                    <span class="text-3xl mr-4">${icon}</span>
                    <div class="flex-1">
                        <div class="text-lg font-bold text-white">${plantName}</div>
                        <div class="text-sm text-gray-400">‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°: <span class="font-medium text-white">${suitability}%</span></div>
                    </div>
                    <div class="text-xl font-bold text-gray-500">#${index + 1}</div>
                </div>`;
        });
        container.innerHTML = html;
    }

    function displaySoilMetrics(data) {
        const container = document.getElementById('soil-metrics');
        const metrics = [
            { label: "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô", value: data.moisture, unit: "%", icon: 'üíß' }, { label: "pH", value: data.pH, unit: "", icon: 'üß™' },
            { label: "N", value: data.N, unit: "mg/kg", icon: 'üåø' }, { label: "P", value: data.P, unit: "mg/kg", icon: 'üå∏' },
            { label: "K", value: data.K, unit: "mg/kg", icon: 'üí™' }, { label: "‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥", value: data.temp, unit: "¬∞C", icon: 'üå°Ô∏è' },
            { label: "EC", value: data.ec, unit: "¬µs/cm", icon: '‚ö°' }
        ];
        let html = '';
        metrics.forEach(metric => {
            const status = getMetricStatus(metric.label, metric.value);
            const description = getMetricDescription(metric.label);
            html += `<div class="p-2 flex flex-col items-center rounded-lg hover:bg-gray-700 transition cursor-pointer" title="${description}">
                        <div class="text-3xl mb-1">${metric.icon}</div>
                        <div class="text-sm text-gray-400 flex items-center">
                          ${metric.label}
                          ${status ? `<span class="ml-2 w-3 h-3 ${status.color} rounded-full" title="${status.text}"></span>` : ''}
                        </div>
                        <div class="text-xl font-bold text-white">${(metric.value != null ? parseFloat(metric.value) : 0).toFixed(1)} <span class="text-base font-normal text-gray-400">${metric.unit}</span></div>
                     </div>`;
        });
        container.innerHTML = html;
    }

    function drawChart(history) {
        const chartDiv = document.getElementById('chart_div');
        if (!history || history.length < 2) {
          chartDiv.innerHTML = '<p class="text-gray-500">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÑ‡∏°‡πà‡πÄ‡∏û‡∏µ‡∏¢‡∏á‡∏û‡∏≠‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Å‡∏£‡∏≤‡∏ü</p>'; return;
        }
        const chartData = [['Time', 'N', 'P', 'K']];
        history.slice().reverse().forEach(row => {
          chartData.push([ 
            new Date(row.timestamp).toLocaleTimeString('th-TH', { hour: '2-digit', minute:'2-digit' }), 
            parseFloat(row.N) || 0, parseFloat(row.P) || 0, parseFloat(row.K) || 0 
          ]);
        });
        const dataTable = google.visualization.arrayToDataTable(chartData);
        const options = { 
            backgroundColor: 'transparent', 
            chartArea: { backgroundColor: 'transparent', width: '85%', height: '70%' }, 
            colors: ['#f59e0b', '#ef4444', '#8b5cf6'], 
            legend: { position: 'bottom', textStyle: { color: '#d1d5db' } }, 
            hAxis: { textStyle: { color: '#9ca3af' }, slantedText: true, slantedTextAngle: 30 }, 
            vAxis: { textStyle: { color: '#9ca3af' }, gridlines: { color: '#374151' }, baselineColor: '#374151' }, 
            curveType: 'function', pointSize: 5,
            tooltip: { textStyle: { color: '#111827' }, showColorCode: true }
        };
        const chart = new google.visualization.LineChart(chartDiv);
        chart.draw(dataTable, options);
    }

    // ===================================
    // HELPER FUNCTIONS (‡∏Ñ‡∏á‡πÄ‡∏î‡∏¥‡∏°)
    // ===================================
    function getPlantIcon(plantName) {
        const icons = {"‡∏Ç‡πâ‡∏≤‡∏ß": "üåæ", "‡∏Ç‡πâ‡∏≤‡∏ß‡πÇ‡∏û‡∏î": "üåΩ", "‡∏°‡∏±‡∏ô‡∏™‡∏≥‡∏õ‡∏∞‡∏´‡∏•‡∏±‡∏á": "üç†", "‡∏≠‡πâ‡∏≠‡∏¢": "üéã", "‡∏ñ‡∏±‡πà‡∏ß‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß": "ü´õ", "‡∏Ç‡∏¥‡∏á": "G", "‡∏Ç‡∏°‡∏¥‡πâ‡∏ô": "üåø", "‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á": "ü•≠", "‡∏Å‡∏•‡πâ‡∏ß‡∏¢": "üçå", "‡∏¢‡∏≤‡∏á‡∏û‡∏≤‡∏£‡∏≤": "üå≥", "‡∏õ‡∏≤‡∏•‡πå‡∏°‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô": "üå¥", "‡∏™‡∏±‡∏ö‡∏õ‡∏∞‡∏£‡∏î": "üçç", "‡∏ä‡∏≤": "üçµ", "‡∏Å‡∏≤‡πÅ‡∏ü": "‚òï", "‡∏Ç‡πâ‡∏≤‡∏ß‡πÄ‡∏´‡∏ô‡∏µ‡∏¢‡∏ß‡∏î‡∏≥": "üåæ", "‡∏Å‡∏•‡πâ‡∏ß‡∏¢‡∏ô‡πâ‡∏≥‡∏ß‡πâ‡∏≤": "üçå", "‡∏™‡∏∞‡∏ï‡∏≠": "üå≥", "‡∏û‡∏£‡∏¥‡∏Å": "üå∂Ô∏è"};
        return icons[plantName] || "üå±";
    }

    function getMetricDescription(label) {
        const descriptions = {
            "‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô": "‡πÄ‡∏õ‡∏≠‡∏£‡πå‡πÄ‡∏ã‡πá‡∏ô‡∏ï‡πå‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡πÉ‡∏ô‡∏î‡∏¥‡∏ô ‡∏Ñ‡πà‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏û‡∏∑‡∏ä‡∏™‡πà‡∏ß‡∏ô‡πÉ‡∏´‡∏ç‡πà‡∏Ñ‡∏∑‡∏≠ 40-70%",
            "pH": "‡∏Ñ‡πà‡∏≤‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏£‡∏î-‡∏î‡πà‡∏≤‡∏á‡∏Ç‡∏≠‡∏á‡∏î‡∏¥‡∏ô (6.0-7.0 ‡∏Ñ‡∏∑‡∏≠‡πÄ‡∏õ‡πá‡∏ô‡∏Å‡∏•‡∏≤‡∏á ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏™‡∏°‡∏ó‡∏µ‡πà‡∏™‡∏∏‡∏î)",
            "N": "‡πÑ‡∏ô‡πÇ‡∏ï‡∏£‡πÄ‡∏à‡∏ô (mg/kg) - ‡∏ä‡πà‡∏ß‡∏¢‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡πÉ‡∏ö‡πÅ‡∏•‡∏∞‡∏•‡∏≥‡∏ï‡πâ‡∏ô",
            "P": "‡∏ü‡∏≠‡∏™‡∏ü‡∏≠‡∏£‡∏±‡∏™ (mg/kg) - ‡∏ä‡πà‡∏ß‡∏¢‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏£‡∏≤‡∏Å‡πÅ‡∏•‡∏∞‡∏Å‡∏≤‡∏£‡∏≠‡∏≠‡∏Å‡∏î‡∏≠‡∏Å",
            "K": "‡πÇ‡∏û‡πÅ‡∏ó‡∏™‡πÄ‡∏ã‡∏µ‡∏¢‡∏° (mg/kg) - ‡∏ä‡πà‡∏ß‡∏¢‡∏ö‡∏≥‡∏£‡∏∏‡∏á‡∏ú‡∏•‡∏ú‡∏•‡∏¥‡∏ï‡πÅ‡∏•‡∏∞‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ï‡πâ‡∏≤‡∏ô‡∏ó‡∏≤‡∏ô‡πÇ‡∏£‡∏Ñ",
            "‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥": "‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥‡∏î‡∏¥‡∏ô ‡∏™‡πà‡∏á‡∏ú‡∏•‡∏ï‡πà‡∏≠‡∏Å‡∏≤‡∏£‡∏î‡∏π‡∏î‡∏ã‡∏∂‡∏°‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏Ç‡∏≠‡∏á‡∏£‡∏≤‡∏Å",
            "EC": "‡∏Ñ‡πà‡∏≤‡∏Å‡∏≤‡∏£‡∏ô‡∏≥‡πÑ‡∏ü‡∏ü‡πâ‡∏≤ (¬µs/cm) - ‡∏ö‡∏≠‡∏Å‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡πÅ‡∏£‡πà‡∏ò‡∏≤‡∏ï‡∏∏/‡∏õ‡∏∏‡πã‡∏¢‡∏ó‡∏µ‡πà‡∏•‡∏∞‡∏•‡∏≤‡∏¢‡πÉ‡∏ô‡∏î‡∏¥‡∏ô (‡∏Ñ‡πà‡∏≤‡∏™‡∏π‡∏á‡πÑ‡∏õ = ‡πÄ‡∏Ñ‡πá‡∏°/‡∏õ‡∏∏‡πã‡∏¢‡πÄ‡∏Å‡∏¥‡∏ô)"
        };
        return descriptions[label] || "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏Ñ‡πà‡∏≤‡∏î‡∏¥‡∏ô";
    }
    
 function getPlantDescription(plantName) {
    const descriptions = {
        "‡∏Ç‡πâ‡∏≤‡∏ß": "‡∏û‡∏∑‡∏ä‡∏´‡∏•‡∏±‡∏Å‡∏Ç‡∏≠‡∏á‡πÑ‡∏ó‡∏¢ ‡∏ä‡∏≠‡∏ö‡∏î‡∏¥‡∏ô‡∏£‡πà‡∏ß‡∏ô‡πÄ‡∏´‡∏ô‡∏µ‡∏¢‡∏ß ‡∏°‡∏µ‡∏ô‡πâ‡∏≥‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠ ‡πÅ‡∏•‡∏∞‡πÅ‡∏î‡∏î‡∏à‡∏±‡∏î ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏•‡∏∏‡πà‡∏°‡∏ô‡πâ‡∏≥‡∏´‡∏£‡∏∑‡∏≠‡∏°‡∏µ‡∏£‡∏∞‡∏ö‡∏ö‡∏ä‡∏•‡∏õ‡∏£‡∏∞‡∏ó‡∏≤‡∏ô‡∏î‡∏µ",
        "‡∏Ç‡πâ‡∏≤‡∏ß‡πÇ‡∏û‡∏î": "‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÑ‡∏ô‡πÇ‡∏ï‡∏£‡πÄ‡∏à‡∏ô‡∏™‡∏π‡∏á‡πÉ‡∏ô‡∏ä‡πà‡∏ß‡∏á‡πÅ‡∏£‡∏Å ‡∏î‡∏¥‡∏ô‡∏Ñ‡∏ß‡∏£‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏î‡∏µ ‡πÑ‡∏°‡πà‡∏ä‡∏≠‡∏ö‡∏ô‡πâ‡∏≥‡∏Ç‡∏±‡∏á ‡πÅ‡∏î‡∏î‡πÄ‡∏ï‡πá‡∏°‡∏ß‡∏±‡∏ô ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏õ‡∏•‡∏π‡∏Å‡πÉ‡∏ô‡∏î‡∏¥‡∏ô‡∏£‡πà‡∏ß‡∏ô‡∏õ‡∏ô‡∏ó‡∏£‡∏≤‡∏¢",
        "‡∏°‡∏±‡∏ô‡∏™‡∏≥‡∏õ‡∏∞‡∏´‡∏•‡∏±‡∏á": "‡∏ó‡∏ô‡πÅ‡∏•‡πâ‡∏á‡∏î‡∏µ ‡∏õ‡∏•‡∏π‡∏Å‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏î‡∏¥‡∏ô‡πÅ‡∏ó‡∏ö‡∏ó‡∏∏‡∏Å‡∏ä‡∏ô‡∏¥‡∏î‡πÇ‡∏î‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡∏î‡∏¥‡∏ô‡∏ó‡∏£‡∏≤‡∏¢ ‡πÑ‡∏°‡πà‡∏ó‡∏ô‡∏ô‡πâ‡∏≥‡∏Ç‡∏±‡∏á ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏µ‡∏™‡∏≤‡∏ô",
        "‡∏≠‡πâ‡∏≠‡∏¢": "‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ô‡πâ‡∏≥‡∏û‡∏≠‡∏õ‡∏£‡∏∞‡∏°‡∏≤‡∏ì ‡πÅ‡∏î‡∏î‡∏à‡∏±‡∏î ‡∏î‡∏¥‡∏ô‡∏£‡πà‡∏ß‡∏ô‡∏õ‡∏ô‡∏ó‡∏£‡∏≤‡∏¢‡∏´‡∏£‡∏∑‡∏≠‡∏î‡∏¥‡∏ô‡∏£‡πà‡∏ß‡∏ô‡πÄ‡∏´‡∏ô‡∏µ‡∏¢‡∏ß‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡πÑ‡∏î‡πâ‡∏î‡∏µ ‡πÉ‡∏ä‡πâ‡∏ò‡∏≤‡∏ï‡∏∏‡∏≠‡∏≤‡∏´‡∏≤‡∏£‡∏™‡∏π‡∏á‡πÇ‡∏î‡∏¢‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÑ‡∏ô‡πÇ‡∏ï‡∏£‡πÄ‡∏à‡∏ô‡πÅ‡∏•‡∏∞‡πÇ‡∏û‡πÅ‡∏ó‡∏™‡πÄ‡∏ã‡∏µ‡∏¢‡∏°",
        "‡∏ñ‡∏±‡πà‡∏ß‡πÄ‡∏Ç‡∏µ‡∏¢‡∏ß": "‡∏õ‡∏•‡∏π‡∏Å‡πÑ‡∏î‡πâ‡πÉ‡∏ô‡∏î‡∏¥‡∏ô‡πÄ‡∏Å‡∏∑‡∏≠‡∏ö‡∏ó‡∏∏‡∏Å‡∏ä‡∏ô‡∏¥‡∏î‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏î‡∏µ ‡∏ä‡πà‡∏ß‡∏¢‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÑ‡∏ô‡πÇ‡∏ï‡∏£‡πÄ‡∏à‡∏ô‡πÉ‡∏´‡πâ‡∏î‡∏¥‡∏ô ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏õ‡∏•‡∏π‡∏Å‡∏´‡∏•‡∏±‡∏á‡∏§‡∏î‡∏π‡∏Ç‡πâ‡∏≤‡∏ß",
        "‡∏Ç‡∏¥‡∏á": "‡∏ä‡∏≠‡∏ö‡∏î‡∏¥‡∏ô‡∏£‡πà‡∏ß‡∏ô‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏î‡∏µ ‡πÑ‡∏°‡πà‡∏ä‡∏≠‡∏ö‡∏ô‡πâ‡∏≥‡∏Ç‡∏±‡∏á ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡∏û‡∏≠‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡πÅ‡∏•‡∏∞‡πÅ‡∏™‡∏á‡∏£‡∏≥‡πÑ‡∏£ ‡∏õ‡∏•‡∏π‡∏Å‡πÑ‡∏î‡πâ‡∏î‡∏µ‡πÉ‡∏ô‡∏§‡∏î‡∏π‡∏ù‡∏ô",
        "‡∏Ç‡∏°‡∏¥‡πâ‡∏ô": "‡∏î‡∏¥‡∏ô‡∏£‡πà‡∏ß‡∏ô‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏î‡∏µ ‡∏°‡∏µ‡∏≠‡∏¥‡∏ô‡∏ó‡∏£‡∏µ‡∏¢‡∏ß‡∏±‡∏ï‡∏ñ‡∏∏‡∏™‡∏π‡∏á ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠ ‡πÅ‡∏™‡∏á‡πÅ‡∏î‡∏î‡∏£‡∏≥‡πÑ‡∏£ ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏õ‡∏•‡∏π‡∏Å‡πÉ‡∏ô‡∏§‡∏î‡∏π‡∏ù‡∏ô‡∏ñ‡∏∂‡∏á‡∏ï‡πâ‡∏ô‡∏´‡∏ô‡∏≤‡∏ß",
        "‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á": "‡πÑ‡∏°‡πâ‡∏ú‡∏•‡∏ó‡∏µ‡πà‡∏ó‡∏ô‡πÅ‡∏•‡πâ‡∏á‡∏î‡∏µ ‡∏î‡∏¥‡∏ô‡∏ï‡πâ‡∏≠‡∏á‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏î‡∏µ ‡πÑ‡∏°‡πà‡∏ó‡∏ô‡∏ô‡πâ‡∏≥‡∏Ç‡∏±‡∏á ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏î‡∏î‡∏à‡∏±‡∏î ‡πÅ‡∏•‡∏∞‡∏õ‡∏∏‡πã‡∏¢‡πÄ‡∏™‡∏£‡∏¥‡∏°‡∏ä‡πà‡∏ß‡∏á‡∏≠‡∏≠‡∏Å‡∏î‡∏≠‡∏Å‡∏ï‡∏¥‡∏î‡∏ú‡∏•",
        "‡∏Å‡∏•‡πâ‡∏ß‡∏¢": "‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ô‡πâ‡∏≥‡∏°‡∏≤‡∏Å‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡∏™‡∏π‡∏á ‡∏î‡∏¥‡∏ô‡∏£‡πà‡∏ß‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏î‡∏¥‡∏ô‡∏£‡πà‡∏ß‡∏ô‡πÄ‡∏´‡∏ô‡∏µ‡∏¢‡∏ß‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏î‡∏µ ‡πÅ‡∏™‡∏á‡πÅ‡∏î‡∏î‡∏à‡∏±‡∏î ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏õ‡∏•‡∏π‡∏Å‡πÉ‡∏Å‡∏•‡πâ‡πÅ‡∏´‡∏•‡πà‡∏á‡∏ô‡πâ‡∏≥",
        "‡∏¢‡∏≤‡∏á‡∏û‡∏≤‡∏£‡∏≤": "‡πÑ‡∏°‡πâ‡∏¢‡∏∑‡∏ô‡∏ï‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏ä‡∏≠‡∏ö‡∏î‡∏¥‡∏ô‡∏£‡πà‡∏ß‡∏ô‡∏•‡∏∂‡∏Å ‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏î‡∏µ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡∏™‡∏π‡∏á ‡πÑ‡∏°‡πà‡∏ó‡∏ô‡∏•‡∏°‡πÅ‡∏£‡∏á ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ù‡∏ô‡∏Å‡∏£‡∏∞‡∏à‡∏≤‡∏¢‡∏ï‡∏•‡∏≠‡∏î‡∏õ‡∏µ",
        "‡∏õ‡∏≤‡∏•‡πå‡∏°‡∏ô‡πâ‡∏≥‡∏°‡∏±‡∏ô": "‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏î‡∏î‡πÄ‡∏ï‡πá‡∏°‡∏ß‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏ô‡πâ‡∏≥‡∏°‡∏≤‡∏Å ‡∏î‡∏¥‡∏ô‡∏•‡∏∂‡∏Å ‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏î‡∏µ ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡πÄ‡∏Ç‡∏ï‡∏£‡πâ‡∏≠‡∏ô‡∏ä‡∏∑‡πâ‡∏ô‡πÅ‡∏•‡∏∞‡∏ù‡∏ô‡∏ï‡∏Å‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠",
        "‡∏™‡∏±‡∏ö‡∏õ‡∏∞‡∏£‡∏î": "‡∏ó‡∏ô‡πÅ‡∏•‡πâ‡∏á‡πÑ‡∏î‡πâ‡∏î‡∏µ‡∏°‡∏≤‡∏Å ‡∏ä‡∏≠‡∏ö‡∏î‡∏¥‡∏ô‡∏£‡πà‡∏ß‡∏ô‡∏õ‡∏ô‡∏ó‡∏£‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏î‡∏µ ‡πÑ‡∏°‡πà‡∏ó‡∏ô‡∏ô‡πâ‡∏≥‡∏Ç‡∏±‡∏á ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏≠‡∏µ‡∏™‡∏≤‡∏ô‡∏ï‡∏≠‡∏ô‡∏Å‡∏•‡∏≤‡∏á‡∏ñ‡∏∂‡∏á‡πÉ‡∏ï‡πâ",
        "‡∏ä‡∏≤": "‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏≠‡∏≤‡∏Å‡∏≤‡∏®‡πÄ‡∏¢‡πá‡∏ô‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡∏™‡∏π‡∏á ‡∏î‡∏¥‡∏ô‡∏£‡πà‡∏ß‡∏ô‡∏´‡∏£‡∏∑‡∏≠‡∏£‡πà‡∏ß‡∏ô‡πÄ‡∏´‡∏ô‡∏µ‡∏¢‡∏ß pH ‡∏Ñ‡πà‡∏≠‡∏ô‡∏Ç‡πâ‡∏≤‡∏á‡∏Å‡∏£‡∏î ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏õ‡∏•‡∏π‡∏Å‡∏ö‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏™‡∏π‡∏á",
        "‡∏Å‡∏≤‡πÅ‡∏ü": "‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏£‡πà‡∏°‡πÄ‡∏á‡∏≤‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢ ‡∏î‡∏¥‡∏ô‡∏£‡πà‡∏ß‡∏ô‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏î‡∏µ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠ ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏≠‡∏∏‡∏ì‡∏´‡∏†‡∏π‡∏°‡∏¥ 20‚Äì25¬∞C",
        "‡∏Ç‡πâ‡∏≤‡∏ß‡πÄ‡∏´‡∏ô‡∏µ‡∏¢‡∏ß‡∏î‡∏≥": "‡∏Ñ‡∏•‡πâ‡∏≤‡∏¢‡∏Ç‡πâ‡∏≤‡∏ß‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‡πÅ‡∏ï‡πà‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏ô‡πâ‡∏≥‡∏°‡∏≤‡∏Å‡∏Å‡∏ß‡πà‡∏≤‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢ ‡∏ä‡∏≠‡∏ö‡∏î‡∏¥‡∏ô‡πÄ‡∏´‡∏ô‡∏µ‡∏¢‡∏ß‡πÅ‡∏•‡∏∞‡∏ô‡πâ‡∏≥‡∏Ç‡∏±‡∏á‡πÄ‡∏•‡πá‡∏Å‡∏ô‡πâ‡∏≠‡∏¢ ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏†‡∏≤‡∏Ñ‡∏≠‡∏µ‡∏™‡∏≤‡∏ô",
        "‡∏Å‡∏•‡πâ‡∏ß‡∏¢‡∏ô‡πâ‡∏≥‡∏ß‡πâ‡∏≤": "‡∏ä‡∏≠‡∏ö‡∏ô‡πâ‡∏≥‡∏°‡∏≤‡∏Å ‡∏î‡∏¥‡∏ô‡∏£‡πà‡∏ß‡∏ô‡∏≠‡∏∏‡∏î‡∏°‡∏™‡∏°‡∏ö‡∏π‡∏£‡∏ì‡πå‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏î‡∏µ ‡πÅ‡∏î‡∏î‡∏à‡∏±‡∏î ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÇ‡∏û‡πÅ‡∏ó‡∏™‡πÄ‡∏ã‡∏µ‡∏¢‡∏°‡∏™‡∏π‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ú‡∏•‡πÉ‡∏´‡∏ç‡πà‡πÅ‡∏•‡∏∞‡∏´‡∏ß‡∏≤‡∏ô",
        "‡∏™‡∏∞‡∏ï‡∏≠": "‡πÑ‡∏°‡πâ‡∏¢‡∏∑‡∏ô‡∏ï‡πâ‡∏ô‡∏†‡∏≤‡∏Ñ‡πÉ‡∏ï‡πâ ‡∏ä‡∏≠‡∏ö‡∏î‡∏¥‡∏ô‡∏£‡πà‡∏ß‡∏ô‡∏ä‡∏∑‡πâ‡∏ô‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏î‡∏µ ‡∏°‡∏µ‡πÅ‡∏™‡∏á‡πÅ‡∏î‡∏î‡πÄ‡∏ï‡πá‡∏°‡∏ß‡∏±‡∏ô ‡πÇ‡∏ï‡πÄ‡∏£‡πá‡∏ß‡πÉ‡∏ô‡∏û‡∏∑‡πâ‡∏ô‡∏ó‡∏µ‡πà‡∏°‡∏µ‡∏ù‡∏ô‡∏ï‡∏Å‡∏°‡∏≤‡∏Å",
        "‡∏°‡∏∞‡∏•‡∏∞‡∏Å‡∏≠": "‡∏õ‡∏•‡∏π‡∏Å‡∏á‡πà‡∏≤‡∏¢ ‡πÇ‡∏ï‡πÑ‡∏ß ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏î‡∏¥‡∏ô‡∏£‡πà‡∏ß‡∏ô‡∏ã‡∏∏‡∏¢‡πÅ‡∏•‡∏∞‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏î‡∏µ ‡πÅ‡∏î‡∏î‡πÄ‡∏ï‡πá‡∏°‡∏ß‡∏±‡∏ô ‡πÑ‡∏°‡πà‡∏ó‡∏ô‡∏ô‡πâ‡∏≥‡∏Ç‡∏±‡∏á ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏õ‡∏•‡∏π‡∏Å‡πÄ‡∏ä‡∏¥‡∏á‡∏û‡∏≤‡∏ì‡∏¥‡∏ä‡∏¢‡πå",
        "‡∏°‡∏∞‡∏°‡πà‡∏ß‡∏á‡∏´‡∏¥‡∏°‡∏û‡∏≤‡∏ô‡∏ï‡πå": "‡∏ó‡∏ô‡πÅ‡∏•‡πâ‡∏á‡πÅ‡∏•‡∏∞‡∏ó‡∏ô‡∏î‡∏¥‡∏ô‡πÄ‡∏Ñ‡πá‡∏°‡πÑ‡∏î‡πâ‡∏î‡∏µ ‡∏î‡∏¥‡∏ô‡∏£‡πà‡∏ß‡∏ô‡∏õ‡∏ô‡∏ó‡∏£‡∏≤‡∏¢ ‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏î‡∏µ ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏õ‡∏•‡∏π‡∏Å‡πÉ‡∏ô‡πÄ‡∏Ç‡∏ï‡πÅ‡∏´‡πâ‡∏á‡πÅ‡∏•‡πâ‡∏á‡∏Ç‡∏≠‡∏á‡∏≠‡∏µ‡∏™‡∏≤‡∏ô",
        "‡πÅ‡∏ï‡∏á‡πÇ‡∏°": "‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏î‡∏î‡∏à‡∏±‡∏î ‡∏î‡∏¥‡∏ô‡∏£‡πà‡∏ß‡∏ô‡∏õ‡∏ô‡∏ó‡∏£‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏î‡∏µ ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏ä‡∏∑‡πâ‡∏ô‡∏õ‡∏≤‡∏ô‡∏Å‡∏•‡∏≤‡∏á ‡πÉ‡∏™‡πà‡∏õ‡∏∏‡πã‡∏¢‡πÇ‡∏û‡πÅ‡∏ó‡∏™‡πÄ‡∏ã‡∏µ‡∏¢‡∏°‡∏™‡∏π‡∏á‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏ú‡∏•‡∏´‡∏ß‡∏≤‡∏ô",
        "‡∏û‡∏£‡∏¥‡∏Å": "‡∏ä‡∏≠‡∏ö‡∏î‡∏¥‡∏ô‡∏£‡πà‡∏ß‡∏ô‡∏ã‡∏∏‡∏¢ ‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏î‡∏µ ‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏î‡∏î‡πÄ‡∏ï‡πá‡∏°‡∏ß‡∏±‡∏ô‡πÅ‡∏•‡∏∞‡∏ô‡πâ‡∏≥‡∏™‡∏°‡πà‡∏≥‡πÄ‡∏™‡∏°‡∏≠ ‡πÑ‡∏°‡πà‡∏ä‡∏≠‡∏ö‡∏ô‡πâ‡∏≥‡∏Ç‡∏±‡∏á ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏Å‡∏±‡∏ö‡∏Å‡∏≤‡∏£‡∏õ‡∏•‡∏π‡∏Å‡πÉ‡∏ô‡∏§‡∏î‡∏π‡∏´‡∏ô‡∏≤‡∏ß‡∏ñ‡∏∂‡∏á‡∏ï‡πâ‡∏ô‡∏£‡πâ‡∏≠‡∏ô",
        "‡∏¢‡∏≤‡∏™‡∏π‡∏ö": "‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏î‡∏¥‡∏ô‡∏£‡πà‡∏ß‡∏ô‡∏õ‡∏ô‡∏ó‡∏£‡∏≤‡∏¢‡∏ó‡∏µ‡πà‡∏£‡∏∞‡∏ö‡∏≤‡∏¢‡∏ô‡πâ‡∏≥‡∏î‡∏µ ‡πÅ‡∏î‡∏î‡∏à‡∏±‡∏î ‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏ô‡πâ‡∏≥‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏Ñ‡∏∏‡∏ì‡∏†‡∏≤‡∏û‡πÉ‡∏ö ‡πÄ‡∏´‡∏°‡∏≤‡∏∞‡∏õ‡∏•‡∏π‡∏Å‡πÉ‡∏ô‡∏§‡∏î‡∏π‡∏´‡∏ô‡∏≤‡∏ß"
    };
    return descriptions[plantName] || "‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πà‡∏ß‡πÑ‡∏õ‡∏Ç‡∏≠‡∏á‡∏û‡∏∑‡∏ä";
}


  </script>
</body>
</html>
